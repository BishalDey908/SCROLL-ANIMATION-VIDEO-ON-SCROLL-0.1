<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scroll Video Animation</title>

  <!-- Tailwind -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <!-- Fonts style -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Saira:ital,wght@0,100..900;1,100..900&display=swap');
  </style>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/ScrollTrigger.min.js"></script>

  <style>
    body {
      font-family: "Saira", sans-serif;
    }
  </style>
</head>

<body class="bg-zinc-900">

  <!-- WRAPPER -->
  <div class="w-full">
    <div class="parent relative w-full h-[700vh] bg-zinc-800 ">

      <!-- STICKY CANVAS -->
      <div class="sticky top-0 left-0 w-full h-screen overflow-x-hidden">
        <canvas id="frame" class="w-full h-screen"></canvas>

        <!-- component-1 -->
        <div class="absolute animate1 z-[2] text-white bottom-10 w-1/2 left-10">
          <h1 class="leading-20 font-[100] text-3xl tracking-tight">
            &copy; 2025 DOZE STD
          </h1>

          <h1 class="text-4xl tracking-tighter">SHAPING BRANDS &#8594; CRAFTING MEMORIES</h1>
        </div>

        <!-- component-2 -->
        <div class="absolute animate2 z-[2] bottom-16 right-16 w-[48%]
         flex flex-col gap-6 text-right text-white
         opacity-0
         backdrop-blur-md bg-white/5
         border border-white/10 rounded-3xl
         p-10 shadow-[0_0_80px_rgba(255,255,255,0.08)]">

          <!-- HEADLINE -->
          <h1 class="uppercase font-light tracking-[0.15em]
           text-[clamp(2.5rem,5vw,4rem)]
           leading-tight bg-gradient-to-r
           from-white via-zinc-200 to-zinc-400
           bg-clip-text text-transparent">
            Transform Vision<br />
            Into Reality
          </h1>

          <!-- DIVIDER LINE -->
          <div class="ml-auto w-20 h-[1px] bg-gradient-to-l from-white/60 to-transparent"></div>

          <!-- DESCRIPTION -->
          <p class="text-lg leading-relaxed text-zinc-300
           max-w-md ml-auto">
            Building identity and inspiring action —
            sculpting digital experiences that truly resonate.
          </p>

        </div>

        <!-- Component-3 -->
        <div class="absolute  z-[2] inset-0 flex items-center justify-center
         text-center text-white pointer-events-none ">

          <div class="flex animate3 flex-col items-center gap-6
           backdrop-blur-lg bg-white/5
           border border-white/10
           rounded-[2.5rem]
           px-16 py-14
           shadow-[0_0_120px_rgba(255,255,255,0.08)]
           opacity-0 animate-center">

            <!-- SMALL EYEBROW TEXT -->
            <span class="text-xs uppercase tracking-[0.45em]
             text-zinc-400">
              Digital Craftsmanship
            </span>

            <!-- MAIN STATEMENT -->
            <h1 class="font-extralight uppercase
             tracking-[0.2em]
             leading-tight
             text-[clamp(2.2rem,4.5vw,3.8rem)]
             bg-gradient-to-b
             from-white via-zinc-200 to-zinc-500
             bg-clip-text text-transparent">
              Design.<br />
              Motion.<br />
              Emotion.
            </h1>

            <!-- SUBTITLE -->
            <p class="max-w-md text-base leading-relaxed
             text-zinc-300">
              We merge visual identity, motion, and technology to
              create immersive digital experiences that leave a
              lasting impression.
            </p>

            <!-- SOFT DIVIDER -->
            <div class="w-24 h-[1px]
             bg-gradient-to-r from-transparent via-white/50 to-transparent"></div>

          </div>

        </div>

        <!-- Component-4 -->
        <div class="w-1/3 panel translate-x-full h-screen bg-white absolute right-0 top-0 z-[2] p-10">

          <h3 class="panelelem text-xl font-[100]">© 2024 Doze.Std</h3>

          <p class="panelelem mt-10 text-xl">
            Sculpting Digital<br />
            Transforming visions into digital realities. Weaving stories that captivate and innovate.
            Exploring new possibilities with a focus on narrative evolution. Crafting solutions that engage
            and elevate.
          </p>

          <button class="panelelem border-[1px] px-3 py-2 border-[#555] font-[100] mt-6">
            Get Reviews
          </button>

          <div class="panelelem absolute bottom-10">
            <h3 class="text-xl">Innovating Design</h3>

            <p class="text-sm mt-3">
              Connecting ideas to foster creativity. Designing impactful experiences that
              resonate.<br />
              Feel free to mix and match these sections to suit your website's design needs!
            </p>

            <button class="bg-black text-white px-7 text-sm mt-4 py-4 font-[100] capitalize">
              experience
            </button>
          </div>

        </div>

        <div
          class="absolute z-[2] panelism text-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-6xl tracking-tighter opacity-0">
          &copy;Panelism
          <span class="line w-10 h-1 bg-white inline-block"></span>
          2048
        </div>

      </div>

    </div>
  </div>

  <script>
    gsap.registerPlugin(ScrollTrigger)

    /* ================= CONFIG ================= */
    const frames = {
      currentIndex: 0,
      maxIndex: 1344
    }

    const images = []
    let imagesLoaded = 0

    const canvas = document.getElementById("frame")
    const context = canvas.getContext("2d")

    /* ================= RESIZE ================= */
    function resizeCanvas() {
      canvas.width = window.innerWidth
      canvas.height = window.innerHeight
    }
    resizeCanvas()
    window.addEventListener("resize", resizeCanvas)

    /* ================= PRELOAD ================= */
    function preloadImages() {
      for (let i = 0; i <= frames.maxIndex; i++) {
        const img = new Image()
        img.src = `./compressed_images/frame_${(i + 1).toString().padStart(4, "0")}.jpg`
        img.onload = () => {
          imagesLoaded++
          if (imagesLoaded === frames.maxIndex + 1) {
            loadImage(0)
            startAnimation()
          }
        }
        images.push(img)
      }
    }

    /* ================= DRAW IMAGE ================= */
    function loadImage(index) {
      const img = images[index]
      if (!img) return

      context.clearRect(0, 0, canvas.width, canvas.height)

      const scaleX = canvas.width / img.width
      const scaleY = canvas.height / img.height
      const scale = Math.max(scaleX, scaleY)

      const newWidth = img.width * scale
      const newHeight = img.height * scale

      const offsetX = (canvas.width - newWidth) / 2
      const offsetY = (canvas.height - newHeight) / 2

      context.imageSmoothingEnabled = true
      context.imageSmoothingQuality = "high"

      context.drawImage(img, offsetX, offsetY, newWidth, newHeight)

      frames.currentIndex = index
    }

    function updateFrame(index) {
      return {
        currentIndex: index,
        ease: "none",
        onUpdate: () => {
          loadImage(Math.floor(frames.currentIndex))
        }
      }
    }

    /* ================= GSAP SCROLL ================= */
    function startAnimation() {
      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: ".parent",
          start: "top top",
          end: "bottom bottom",
          scrub: 2,
          markers: true
        }
      })

      tl
        .to(frames, updateFrame(50), "first")
        .to(".animate1", { opacity: 0, ease: "linear" }, "first")


        .to(frames, updateFrame(80), "second")
        .to(".animate2", { opacity: 1, ease: "linear" }, "second")

        .to(frames, updateFrame(140), "third")
        .to(".animate2", { opacity: 1, ease: "linear" }, "third")

        .to(frames, updateFrame(150), "fourth")
        .to(".animate2", { opacity: 0, ease: "linear" }, "fourth")


        .to(frames, updateFrame(180), "fifth")
        .to(".animate3", { opacity: 1, ease: "linear" }, "fifth")

        .to(frames, updateFrame(210), "sixth")
        .to(".animate3", { opacity: 1, ease: "linear" }, "sixth")

        .to(frames, updateFrame(240), "seventh")
        .to(".animate3", { opacity: 0, ease: "linear" }, "seventh")

        .to(frames, updateFrame(270), "eighth")
        .to(".panel", { x: "0%", ease: "expo" }, "eighth")

        .to(frames, updateFrame(320), "ningth")
        .to(".panel", { x: "0%", ease: "expo" }, "ningth")

        .to(frames, updateFrame(350), "tenth")
        .to(".panel", { opacity: 0, ease: "linear" }, "tenth")

        .to(frames, updateFrame(380), "eleventh")
        .to("canvas", { scale: .5, ease: "linear" }, "eleventh")

        .to(frames, updateFrame(410), "twelveth")
        .to(".panelism", { opacity: 1, ease: "linear" }, "twelveth")
    }

    /* ================= INIT ================= */
    preloadImages()
  </script>

</body>

</html>